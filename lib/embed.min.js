/**
 * @formcrafts/embed
 * Copyright (c) 2024-2025, Nishant Agrawal. (MIT Licensed)
 * https://github.com/formcrafts/embed
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function(f,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(f=typeof globalThis<"u"?globalThis:f||self,u(f.formcrafts={}))})(this,function(f){"use strict";var u=function(){return u=Object.assign||function(e){for(var o,a=1,r=arguments.length;a<r;a++){o=arguments[a];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var S=function(){function t(e,o){this.drawerElement=e,this.options=o,e.drawerInstance=this,e.classList.add("fc-modal"),this.bindEvents()}return t.prototype.bindEvents=function(){var e=this,o;(o=this.drawerElement.querySelector(".handle"))===null||o===void 0||o.addEventListener("touchstart",function(a){return e.close()}),this.drawerElement.addEventListener("click",function(a){a.target===e.drawerElement&&e.close()}),document.addEventListener("keydown",function(a){a.key==="Escape"&&e.close()})},t.prototype.open=function(){var e=this;document.body.style.overflow="hidden",this.options.awaitOpenAnimation&&this.drawerElement.addEventListener("animationend",function(){e.afterOpen()},{once:!0}),this.drawerElement.setAttribute("aria-hidden","false"),this.drawerElement.classList.add(this.options.openClass||"open"),this.options.awaitOpenAnimation||this.afterOpen()},t.prototype.afterOpen=function(){this.options.onOpen&&this.options.onOpen()},t.prototype.close=function(){var e=this;document.body.style.overflow="",this.drawerElement.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation&&this.drawerElement.addEventListener("animationend",function(){e.afterClose()},{once:!0}),this.options.awaitCloseAnimation||this.afterClose()},t.prototype.afterClose=function(){this.drawerElement.classList.remove(this.options.openClass||"open"),this.options.onClose&&this.options.onClose()},t}(),k='.fc-modal{display:none;z-index:999;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;background:rgba(0,2,4,0.6);justify-content:center;align-items:center;padding:8vh 0;overscroll-behavior:none;will-change:background-color;--slide-up-distance:8px;--slide-up-duration:200ms;}.fc-modal.fc-is-open{display:flex;}.fc-modal__container{will-change:transform;position:fixed;}.fc-modal__container{display:flex;width:100%;box-shadow:0 0 12px rgba(0,0,0,0.4);background-color:#fff;max-height:84vh;border-radius:0.5rem;overflow-y:auto;box-sizing:border-box;max-width:90vw;overscroll-behavior:contain;}.fc-modal__container iframe{min-height:200px;overscroll-behavior:contain;}@container (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:84%;}}@media (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:84%;}}.modal__close{background:0 0;border:0;}.modal__header .modal__close:before{content:"\\2715";}.modal__content{margin:2rem 0;line-height:1.5;color:rgba(0,0,0,0.8);}.fc-modal[aria-hidden="false"],.fc-modal[aria-hidden="true"]{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0.2,1);}.fc-modal[aria-hidden="false"] .fc-modal__container,.fc-modal[aria-hidden="true"] .fc-modal__container{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0,1);}@keyframes fcFadeIn{from{background:rgba(0,2,4,0);}to{background:rgba(0,2,4,0.6);}}@keyframes fcFadeOut{from{background:rgba(0,2,4,0.6);}to{background:rgba(0,2,4,0);}}@keyframes fcSlideUp{from{opacity:0;transform:translateY(var(--slide-up-distance));}to{opacity:1;transform:translateY(0);}}@keyframes fcSlideDown{from{opacity:1;transform:translateY(0);}to{opacity:0;transform:translateY(var(--slide-up-distance));}}.fc-modal[aria-hidden="false"]{animation-name:fcFadeIn;}.fc-modal[aria-hidden="true"]{animation-name:fcFadeOut;}.fc-modal[aria-hidden="false"] .fc-modal__container{animation-name:fcSlideUp;}.fc-modal[aria-hidden="true"] .fc-modal__container{animation-name:fcSlideDown;}';function L(t){if(!(typeof document>"u")){var e="; ".concat(document.cookie),o=e.split("; ".concat(t,"="));if(o.length===2)return o.pop().split(";").shift()}}var w=typeof window<"u"&&window.location&&window.location.search.indexOf("debug=true")!==-1;typeof window<"u"&&(window._formcraftsGlobalEvents=window._formcraftsGlobalEvents||{},window.on=window.on||function(t,e){window._formcraftsGlobalEvents||(window._formcraftsGlobalEvents={}),window._formcraftsGlobalEvents[t]||(window._formcraftsGlobalEvents[t]=[]),window._formcraftsGlobalEvents[t].push(e)});function g(t,e,o){if(typeof window<"u"){var a="formcrafts:".concat(t),r=new CustomEvent(a,{detail:{form_id:e,data:o}});if(window.dispatchEvent(r),window._formcraftsGlobalEvents){var n=window._formcraftsGlobalEvents[a];n&&n.length>0&&n.forEach(function(d){try{d({form_id:e,data:o})}catch(i){console.error("Error in global event callback:",i)}})}}}var O=["https://app.formcrafts.com","https://5173.formcrafts.com","https://app.localhost:5173"],W="rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px";function A(t){var e,o=(e=t.formBase)!==null&&e!==void 0?e:"https://app.formcrafts.com",a=new URL("".concat(o,"/").concat(t.form));return a.searchParams.set("iframe","true"),typeof t.lang<"u"&&t.lang&&a.searchParams.set("lang",t.lang),typeof t.seamless<"u"&&t.seamless===!0&&a.searchParams.set("seamless","true"),typeof t._params<"u"&&t._params.forEach(function(r,n){a.searchParams.set(n,r)}),a.href}function P(t){var e,o=(e=t.formBase)!==null&&e!==void 0?e:"https://app.formcrafts.com",a=new URL("".concat(o,"/").concat(t.form));return a.searchParams.set("iframe","true"),a.searchParams.set("popup","true"),typeof t._params<"u"&&t._params.forEach(function(r,n){a.searchParams.set(n,r)}),a.href}function b(t,e){var o=function(r,n){for(var d=0,i=r;d<i.length;d++){var c=i[d];if(c.isIntersecting){e(),n.disconnect();return}}},a=new IntersectionObserver(o);Array.isArray(t)?t.forEach(function(r){return a.observe(r)}):a.observe(t)}function F(t,e,o){typeof e>"u"||(o&&(o.style.height=""),t.style.height="".concat(e,"px"),t.style.visibility="visible",t.style.position="static")}function x(t,e,o){var a,r=(a="seamless"in e&&e?.seamless)!==null&&a!==void 0?a:!1;window.addEventListener("message",function(n){var d;if(t.contentWindow===n.source){if(O.indexOf(n.origin)===-1)return!1;if(w&&console.debug("Received message",n.data),n.data.type==="ga_event"&&typeof window.gtag<"u"){var i=n.data.content;window.gtag("event",i.type,i.attributes)}if(n.data.type==="gtm_event"&&typeof window.dataLayer<"u"){var c=n.data.content;window.dataLayer.push(u({event:c.type},c.attributes))}if(n.data.type==="load"){t.contentWindow.postMessage({type:"load:ok",content:"ok"},"*");var s=L("hubspotutk");if(t.contentWindow){s&&t.contentWindow.postMessage({type:"hubspotutk",content:s},"*"),t.contentWindow.postMessage({type:"url",content:window.location.href},"*"),t.contentWindow.postMessage({type:"title",content:document.title},"*"),t.contentWindow.postMessage({type:"windowInnerHeight",content:window.innerHeight},"*");var y=(d=e.values)!==null&&d!==void 0?d:{};t.contentWindow.postMessage({type:"values",content:y},"*"),e.redirectWithin&&t.contentWindow.postMessage({type:"redirectWithin",content:!0},"*")}var E=t._formcraftsEvents;E.load&&E.load.forEach(function(h){return h()}),g("load",e.form)}if(n.data.type==="page"){var m=t.getBoundingClientRect(),v=m.top>=0&&m.top<=window.innerHeight;v||(o==="embed"?window.scrollBy({top:m.top-parseFloat(getComputedStyle(document.documentElement).fontSize)*2,behavior:"smooth"}):t.scrollIntoView({behavior:"smooth",block:"start"}))}if(n.data.type==="height"){var z="target"in e?e.target:null;F(t,n.data.content,z)}if(n.data.type==="redirect")try{window.top.location.href=n.data.content}catch{window.location.href=n.data.content}if(n.data.type==="scrollIntoView"){var C=t.getBoundingClientRect(),p=n.data.content,l=document.createElement("div");l.style.position="absolute",l.style.top="".concat(C.top+p.top+window.scrollY,"px"),l.style.left="".concat(C.left+p.left+window.scrollX,"px"),l.style.width="".concat(p.width,"px"),l.style.height="".concat(p.height,"px"),document.body.appendChild(l),l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),l.remove()}if(n.data.type==="background"&&!r&&(t.style.background=n.data.content),n.data.type==="name"&&(t.ariaLabel=n.data.content,t.title=n.data.content),n.data.type==="submit:success"||n.data.type==="submitSuccess"){var I=t._formcraftsEvents;I["submit:success"]&&I["submit:success"].forEach(function(h){return h(n.data.content)}),g("submit:success",e.form,n.data.content)}if(n.data.type==="success"&&o==="embed"){var m=t.getBoundingClientRect(),v=m.top>=0&&m.top<=window.innerHeight;v||window.scrollBy({top:m.top-parseFloat(getComputedStyle(document.documentElement).fontSize)*1,behavior:"smooth"})}if(n.data.type==="close"&&o==="popup"&&e){var V="fc-modal-".concat(e.form),j=document.getElementById(V),D=j.drawerInstance;D.close()}}})}function B(t){var e,o=!1;t.target.querySelector("iframe")?(o=!0,e=t.target.querySelector("iframe")):(e=document.createElement("iframe"),e.style.position="absolute",e.style.visibility="hidden"),typeof t.seamless>"u"&&(t.seamless=!1),w&&console.debug("Creating iframe",e),x(e,t,"embed");var a=window.getComputedStyle(t.target);return t.target.style.display="flex",t.target.style.justifyContent="stretch",t.target.style.width="100%",e.dataset.src=A(t),e.title="Formcrafts form",e.style.border="none",e.style.width=a.getPropertyValue("width"),e.scrolling="no",e.ariaLabel="Formcrafts form",e.name="formcrafts-iframe",e.classList.add("fc-inline-iframe"),e.onload=function(){t.target.style.overflow="initial",typeof t.width<"u"&&t.width!==null?e.style.width="".concat(t.width,"px"):e.style.width="100%",e.style.maxWidth="100%",e.style.transition="height 0ms linear",e.style.willChange="height"},typeof t.width<"u"&&t.width!==null&&(e.style.width="".concat(t.width,"px"),e.style.maxWidth="100%"),t.seamless||(e.style.boxShadow=W,e.style.borderRadius="0.5rem"),b(e,function(){typeof e.dataset.src<"u"&&(e.src=e.dataset.src,e.removeAttribute("data-src"))}),o===!1&&(t.target.innerHTML="",t.target.appendChild(e)),M(e)}function M(t,e){var o={on:function(a,r){var n=t._formcraftsEvents;n[a]=n[a]||[],n[a].push(r)},values:function(a){var r;(r=t.contentWindow)===null||r===void 0||r.postMessage({type:"values",content:a},"*")},destroy:function(){t?.remove()}};return t._formcraftsInstance=o,t._formcraftsEvents={},o}function _(t,e,o){var a=t.drawerElement.querySelector("iframe"),r={elementId:e.id,on:function(n,d){var i=a._formcraftsEvents;i[n]=i[n]||[],i[n].push(d)},load:function(){if(a){var n=a.dataset.src;n&&(a.src=a.dataset.src,a.removeAttribute("data-src"))}},values:function(n){var d;(d=a.contentWindow)===null||d===void 0||d.postMessage({type:"values",content:n},"*")},open:function(){if(a){var n=a.dataset.src;n&&(a.src=a.dataset.src,a.removeAttribute("data-src"))}t.open()},close:function(){t.close()},destroy:function(){t.drawerElement.remove()}};return a._formcraftsInstance=r,a._formcraftsEvents={},r}function G(t){var e={openClass:"fc-is-open",awaitOpenAnimation:!0,awaitCloseAnimation:!0},o=typeof t.width>"u"?500:t.width,a="fc-modal-".concat(t.form,"-").concat(t.idSuffix?t.idSuffix:Math.floor(Math.random()*1e4));if(document.getElementById(a)){var r=document.getElementById(a),n=r.drawerInstance;return _(n,r)}if(!document.getElementById("fc-modal-css")){var d=document.createElement("style");d.id="fc-modal-css",d.appendChild(document.createTextNode(k)),document.head.appendChild(d)}var i=document.createElement("div");i.id=a,i.classList.add("fc-modal"),i.ariaHidden="true";var c=document.createElement("div");c.style.maxWidth="min(90vw,".concat(o,"px)"),c.style.visibility="hidden",c.role="dialog",c.setAttribute("aria-modal","true"),c.classList.add("fc-modal__container"),w&&console.debug("Creating popup",i,c);var s=document.createElement("iframe");x(s,t,"popup"),s.dataset.src=P(t),s.title="Formcrafts popup form",s.style.border="none",s.style.width="100%",s.ariaLabel="Formcrafts popup form",s.name="formcrafts-popup-iframe",s.style.willChange="height",s.style.position="static",s.style.transition="height 0ms linear",s.style.willChange="height",s.scrolling="no",s.onload=function(){c.style.visibility="visible"},i.appendChild(c),c.appendChild(s),t.appendTo?t.appendTo.appendChild(i):document.body.appendChild(i);var y=new S(i,e);return _(y,i)}f.createInlineForm=B,f.createPopup=G,f.observeVisibility=b});
//# sourceMappingURL=embed.min.js.map
