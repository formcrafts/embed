/**
 * @formcrafts/embed
 * Copyright (c) 2024-2024, Nishant Agrawal. (MIT Licensed)
 * https://github.com/formcrafts/embed
 */

/**
 * DO NOT EDIT THIS FILE
 * The code in this file is generated from files in ./src/
 */

(function(f,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(f=typeof globalThis<"u"?globalThis:f||self,u(f.embed={}))})(this,function(f){"use strict";var u=function(){return u=Object.assign||function(t){for(var a,n=1,i=arguments.length;n<i;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},u.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var C=function(){function e(t,a){this.drawerElement=t,this.options=a,t.drawerInstance=this,t.classList.add("fc-modal"),this.bindEvents()}return e.prototype.bindEvents=function(){var t=this,a;(a=this.drawerElement.querySelector(".handle"))===null||a===void 0||a.addEventListener("touchstart",function(n){return t.close()}),this.drawerElement.addEventListener("click",function(n){n.target===t.drawerElement&&t.close()}),document.addEventListener("keydown",function(n){n.key==="Escape"&&t.close()})},e.prototype.open=function(){var t=this;document.body.style.overflow="hidden",this.options.awaitOpenAnimation&&this.drawerElement.addEventListener("animationend",function(){t.afterOpen()},{once:!0}),this.drawerElement.setAttribute("aria-hidden","false"),this.drawerElement.classList.add(this.options.openClass||"open"),this.options.awaitOpenAnimation||this.afterOpen()},e.prototype.afterOpen=function(){this.options.onOpen&&this.options.onOpen()},e.prototype.close=function(){var t=this;document.body.style.overflow="",this.drawerElement.setAttribute("aria-hidden","true"),this.options.awaitCloseAnimation&&this.drawerElement.addEventListener("animationend",function(){t.afterClose()},{once:!0}),this.options.awaitCloseAnimation||this.afterClose()},e.prototype.afterClose=function(){this.drawerElement.classList.remove(this.options.openClass||"open"),this.options.onClose&&this.options.onClose()},e}(),S='.fc-modal{display:none;z-index:999;position:fixed;top:0;left:0;right:0;bottom:0;overflow-y:auto;background:rgba(0,2,4,0.6);justify-content:center;align-items:center;padding:10vh 0;overscroll-behavior:none;will-change:background-color;--slide-up-distance:8px;--slide-up-duration:200ms;}.fc-modal.fc-is-open{display:flex;}.fc-modal__container{will-change:transform;position:fixed;}.fc-modal__container{display:flex;width:100%;box-shadow:0 0 12px rgba(0,0,0,0.4);background-color:#fff;max-height:70vh;border-radius:0.5rem;overflow-y:auto;box-sizing:border-box;max-width:90vw;overscroll-behavior:contain;}.fc-modal__container iframe{min-height:200px;overscroll-behavior:contain;}@container (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}@media (max-width:768px){.fc-modal{padding-bottom:0;align-items:flex-end;--slide-up-distance:30px;--slide-up-duration:300ms;}.fc-modal__container{align-self:flex-end;box-shadow:0 -5px 15px rgba(0,0,0,0.3);border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;border-bottom-left-radius:0px;border-bottom-right-radius:0px;max-width:initial!important;width:100%;max-height:70%;}}.modal__close{background:0 0;border:0;}.modal__header .modal__close:before{content:"\\2715";}.modal__content{margin:2rem 0;line-height:1.5;color:rgba(0,0,0,0.8);}.fc-modal[aria-hidden="false"],.fc-modal[aria-hidden="true"]{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0.2,1);}.fc-modal[aria-hidden="false"] .fc-modal__container,.fc-modal[aria-hidden="true"] .fc-modal__container{animation-duration:var(--slide-up-duration);animation-timing-function:cubic-bezier(0,0,0,1);}@keyframes fcFadeIn{from{background:rgba(0,2,4,0);}to{background:rgba(0,2,4,0.6);}}@keyframes fcFadeOut{from{background:rgba(0,2,4,0.6);}to{background:rgba(0,2,4,0);}}@keyframes fcSlideUp{from{opacity:0;transform:translateY(var(--slide-up-distance));}to{opacity:1;transform:translateY(0);}}@keyframes fcSlideDown{from{opacity:1;transform:translateY(0);}to{opacity:0;transform:translateY(var(--slide-up-distance));}}.fc-modal[aria-hidden="false"]{animation-name:fcFadeIn;}.fc-modal[aria-hidden="true"]{animation-name:fcFadeOut;}.fc-modal[aria-hidden="false"] .fc-modal__container{animation-name:fcSlideUp;}.fc-modal[aria-hidden="true"] .fc-modal__container{animation-name:fcSlideDown;}';function I(e){if(!(typeof document>"u")){var t="; ".concat(document.cookie),a=t.split("; ".concat(e,"="));if(a.length===2)return a.pop().split(";").shift()}}var k=typeof window<"u"&&window.location&&window.location.search.indexOf("debug=true")!==-1,L=["https://app.formcrafts.com","https://5173.formcrafts.com","https://app.localhost:5173"],O="rgba(0, 5, 10, 0.08) 0px 0px 0px 0.5px, rgba(50, 55, 60, 0.04) 2px 3px 2px 0px, rgba(50, 50, 50, 0.03) -2px -2px 2px 0px, rgba(80, 80, 80, 0.176) 0px 7px 5px -7px";function W(e){var t,a=(t=e.formBase)!==null&&t!==void 0?t:"https://app.formcrafts.com",n=new URL("".concat(a,"/").concat(e.form));return n.searchParams.set("iframe","true"),typeof e.seamless<"u"&&e.seamless===!0&&n.searchParams.set("seamless","true"),typeof e._params<"u"&&e._params.forEach(function(i,r){n.searchParams.set(r,i)}),n.href}function A(e){var t,a=(t=e.formBase)!==null&&t!==void 0?t:"https://app.formcrafts.com",n=new URL("".concat(a,"/").concat(e.form));return n.searchParams.set("iframe","true"),n.searchParams.set("popup","true"),typeof e._params<"u"&&e._params.forEach(function(i,r){n.searchParams.set(r,i)}),n.href}function g(e,t){var a=function(i,r){for(var s=0,d=i;s<d.length;s++){var c=d[s];if(c.isIntersecting){t(),r.disconnect();return}}},n=new IntersectionObserver(a);Array.isArray(e)?e.forEach(function(i){return n.observe(i)}):n.observe(e)}function F(e,t,a){typeof t>"u"||(a&&(a.style.height=""),e.style.height="".concat(t,"px"),e.style.visibility="visible",e.style.position="static")}function w(e,t,a){var n,i=(n="seamless"in t&&t?.seamless)!==null&&n!==void 0?n:!1;window.addEventListener("message",function(r){var s;if(e.contentWindow===r.source){if(L.indexOf(r.origin)===-1)return!1;if(k&&console.debug("Received message",r.data),r.data.type==="ga_event"&&typeof window.gtag<"u"){var d=r.data.content;window.gtag("event",d.type,d.attributes)}if(r.data.type==="gtm_event"&&typeof window.dataLayer<"u"){var c=r.data.content;window.dataLayer.push(u({event:c.type},c.attributes))}if(r.data.type==="load"){var o=I("hubspotutk");if(e.contentWindow){o&&e.contentWindow.postMessage({type:"hubspotutk",content:o},"*"),e.contentWindow.postMessage({type:"url",content:window.location.href},"*"),e.contentWindow.postMessage({type:"title",content:document.title},"*"),e.contentWindow.postMessage({type:"windowInnerHeight",content:window.innerHeight},"*");var h=(s=t.values)!==null&&s!==void 0?s:{};e.contentWindow.postMessage({type:"values",content:h},"*"),t.redirectWithin&&e.contentWindow.postMessage({type:"redirectWithin",content:!0},"*")}var x=e._formcraftsEvents;x.load&&x.load.forEach(function(v){return v()})}if(r.data.type==="page"){var m=e.getBoundingClientRect(),y=m.top>=0&&m.top<=window.innerHeight;y||window.scrollBy({top:m.top-parseFloat(getComputedStyle(document.documentElement).fontSize)*2,behavior:"smooth"})}if(r.data.type==="height"){var z="target"in t?t.target:null;F(e,r.data.content,z)}if(r.data.type==="redirect"&&(window.location.href=r.data.content),r.data.type==="scrollIntoView"){var _=e.getBoundingClientRect(),p=r.data.content,l=document.createElement("div");l.style.position="absolute",l.style.top="".concat(_.top+p.top+window.scrollY,"px"),l.style.left="".concat(_.left+p.left+window.scrollX,"px"),l.style.width="".concat(p.width,"px"),l.style.height="".concat(p.height,"px"),document.body.appendChild(l),l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),l.remove()}if(r.data.type==="background"&&!i&&(e.style.background=r.data.content),r.data.type==="name"&&(e.ariaLabel=r.data.content,e.title=r.data.content),r.data.type==="submitSuccess"){var E=e._formcraftsEvents;E.submitSuccess&&E.submitSuccess.forEach(function(v){return v()})}if(r.data.type==="success"&&a==="embed"){var m=e.getBoundingClientRect(),y=m.top>=0&&m.top<=window.innerHeight;y||window.scrollBy({top:m.top-parseFloat(getComputedStyle(document.documentElement).fontSize)*1,behavior:"smooth"})}if(r.data.type==="close"&&a==="popup"&&t){var j="fc-modal-".concat(t.form),D=document.getElementById(j),H=D.drawerInstance;H.close()}}})}function P(e){var t,a=!1;e.target.querySelector("iframe")?(a=!0,t=e.target.querySelector("iframe")):(t=document.createElement("iframe"),t.style.position="absolute",t.style.visibility="hidden"),typeof e.seamless>"u"&&(e.seamless=!1),w(t,e,"embed");var n=window.getComputedStyle(e.target);return e.target.style.display="flex",e.target.style.justifyContent="stretch",e.target.style.width="100%",t.dataset.src=W(e),t.title="Formcrafts form",t.style.border="none",t.style.width=n.getPropertyValue("width"),t.scrolling="no",t.ariaLabel="Formcrafts form",t.name="formcrafts-iframe",t.classList.add("fc-inline-iframe"),t.onload=function(){e.target.style.overflow="initial",t.style.width="".concat(e.width,"px"),t.style.maxWidth="100%",t.style.transition="height 0ms linear",t.style.willChange="height"},typeof e.width<"u"&&e.width!==null&&(t.style.width="".concat(e.width,"px"),t.style.maxWidth="100%"),e.seamless||(t.style.boxShadow=O,t.style.borderRadius="0.5rem"),g(t,function(){typeof t.dataset.src<"u"&&(t.src=t.dataset.src,t.removeAttribute("data-src"))}),a===!1&&(e.target.innerHTML="",e.target.appendChild(t)),B(t)}function B(e,t){var a={on:function(n,i){var r=e._formcraftsEvents;r[n]=r[n]||[],r[n].push(i)},values:function(n){var i;(i=e.contentWindow)===null||i===void 0||i.postMessage({type:"values",content:n},"*")},destroy:function(){e?.remove()}};return e._formcraftsInstance=a,e._formcraftsEvents={},a}function b(e,t){var a=e.drawerElement.querySelector("iframe"),n={on:function(i,r){var s=a._formcraftsEvents;s[i]=s[i]||[],s[i].push(r)},load:function(){if(a){var i=a.dataset.src;i&&(a.src=a.dataset.src,a.removeAttribute("data-src"))}},values:function(i){var r;(r=a.contentWindow)===null||r===void 0||r.postMessage({type:"values",content:i},"*")},open:function(){if(a){var i=a.dataset.src;i&&(a.src=a.dataset.src,a.removeAttribute("data-src"))}e.open()},close:function(){e.close()},destroy:function(){e.drawerElement.remove()}};return a._formcraftsInstance=n,a._formcraftsEvents={},n}function M(e){var t={openClass:"fc-is-open",awaitOpenAnimation:!0,awaitCloseAnimation:!0},a=typeof e.width>"u"?500:e.width,n="fc-modal-".concat(e.form);if(document.getElementById(n)){var i=document.getElementById(n),r=i.drawerInstance;return b(r)}if(!document.getElementById("fc-modal-css")){var s=document.createElement("style");s.id="fc-modal-css",s.appendChild(document.createTextNode(S)),document.head.appendChild(s)}var d=document.createElement("div");d.id=n,d.classList.add("fc-modal"),d.ariaHidden="true";var c=document.createElement("div");c.style.maxWidth="min(90vw,".concat(a,"px)"),c.style.visibility="hidden",c.role="dialog",c.setAttribute("aria-modal","true"),c.classList.add("fc-modal__container");var o=document.createElement("iframe");w(o,e,"popup"),o.dataset.src=A(e),o.title="Formcrafts popup form",o.style.border="none",o.style.width="100%",o.ariaLabel="Formcrafts popup form",o.name="formcrafts-popup-iframe",o.style.willChange="height",o.style.position="static",o.style.transition="height 0ms linear",o.style.willChange="height",o.scrolling="no",o.onload=function(){c.style.visibility="visible"},d.appendChild(c),c.appendChild(o),e.appendTo?e.appendTo.appendChild(d):document.body.appendChild(d);var h=new C(d,t);return b(h)}f.createInlineForm=P,f.createPopup=M,f.observeVisibility=g});
//# sourceMappingURL=embed.min.js.map
